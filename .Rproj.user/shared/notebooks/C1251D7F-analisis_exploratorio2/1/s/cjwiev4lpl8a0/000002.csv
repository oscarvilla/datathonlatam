"0","totalpib <- data.frame() ## empty data frame to fill"
"0","k <- 0 ## a counter for naming by department from departamentos var"
"0","departamentos <- readRDS(""./departamentosRDS"")"
"0","library(readxl) ## library needed to read xls"
"0","for(i in seq(from = 2, to = 66, by = 2)) { ## We'll read even sheets (by number, not by name)"
"0","pib <- read_excel(""~/Documents/datathonlatam/datasets/Copia de PIB_Departamentos_2015provisional.xls"", "
"0","                 sheet = i, skip = 5, range = ""A7:Q59"") ## read just a range of the sheet"
"0","pib <- pib[!is.na(pib[, 1]) & !is.na(pib[, 2]), c(1, 2:16)] ## delete NAs and keep 2010 to 2015"
"0","pib <- data.frame(t(pib)) ## transpose"
"0","k <- k + 1 ## increase 'iterator' of departamentos names"
"0","pib$departamento <- departamentos[k] ## namig the departamento"
"0","pib$anio <- rownames(pib) ## anio as value not just as rowname"
"0","pib <- pib[c(2:nrow(pib)), c(48:49, 1:47)] ## erasing first row and reordering cols-vars"
"0","totalpib <- rbind(totalpib, pib) ## stacking results in one data frame"
"0","}"
"0","rm(pib) ## erase inecessary data frame"
"0","totalpib[, 3:ncol(totalpib)] <- apply(totalpib[, 3:ncol(totalpib)], 2, as.integer) ## data as numeric"
"0","print(""los departamentos que quedan son:"")"
"1","[1]"
"1"," ""los departamentos que quedan son:"""
"1","
"
"0","sort(unique(totalpib$departamento))"
"1"," [1]"
"1"," ""AMAZONAS""                "
"1"," ""ANTIOQUIA""               "
"1"," ""ARAUCA""                  "
"1","
"
"1"," [4]"
"1"," ""ATLANTICO""               "
"1"," ""BOGOTA D.C.""             "
"1"," ""BOLIVAR""                 "
"1","
"
"1"," [7]"
"1"," ""BOYACA""                  "
"1"," ""CALDAS""                  "
"1"," ""CAQUETA""                 "
"1","
"
"1","[10]"
"1"," ""CASANARE""                "
"1"," ""CAUCA""                   "
"1"," ""CESAR""                   "
"1","
"
"1","[13]"
"1"," ""CHOCO""                   "
"1"," ""CORDOBA""                 "
"1"," ""CUNDINAMARCA""            "
"1","
"
"1","[16]"
"1"," ""GUAINIA""                 "
"1"," ""GUAVIARE""                "
"1"," ""HUILA""                   "
"1","
"
"1","[19]"
"1"," ""LA GUAJIRA""              "
"1"," ""MAGDALENA""               "
"1"," ""META""                    "
"1","
"
"1","[22]"
"1"," ""NARINO""                  "
"1"," ""NORTE DE SANTANDER""      "
"1"," ""PUTUMAYO""                "
"1","
"
"1","[25]"
"1"," ""QUINDIO""                 "
"1"," ""RISARALDA""               "
"1"," ""SAN ANDRES Y PROVIDENCIA"""
"1","
"
"1","[28]"
"1"," ""SANTANDER""               "
"1"," ""SUCRE""                   "
"1"," ""TOLIMA""                  "
"1","
"
"1","[31]"
"1"," ""VALLE DEL CAUCA""         "
"1"," ""VAUPES""                  "
"1"," ""VICHADA""                 "
"1","
"
"0","print(""Y los años:"")"
"1","[1]"
"1"," ""Y los años:"""
"1","
"
"0","sort(unique(totalpib$anio))"
"1"," [1]"
"1"," ""2000"""
"1"," ""2001"""
"1"," ""2002"""
"1"," ""2003"""
"1"," ""2004"""
"1"," ""2005"""
"1"," ""2006"""
"1"," ""2007"""
"1"," ""2008"""
"1"," ""2009"""
"1"," ""2010"""
"1"," ""2011"""
"1"," ""2012"""
"1","
"
"1","[14]"
"1"," ""2013"""
"1"," ""2014"""
"1","
"
"0","library(readr)"
"0","dummy_names_PIB <- as.data.frame(read_csv(""~/Documents/datathonlatam/dummy_names_PIB.csv"")[, c(1:2)])"
"2","Parsed with column specification:
cols(
  nombre_corto = col_character(),
  `ACTIVIDADES ECONOMICAS` = col_character(),
  VAL = col_character()
)
"
"0","print(""Dado que no podemos conservar el nombre completo-descriptivo de cada variable, dejamos una tabla en el que se relacionan las convenciones y el nombre original"")"
"1","[1]"
"1"," ""Dado que no podemos conservar el nombre completo-descriptivo de cada variable, dejamos una tabla en el que se relacionan las convenciones y el nombre original"""
"1","
"
"0","dummy_names_PIB"
